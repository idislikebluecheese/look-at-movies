<head>
    <title>FreeStreamer 🎬</title>
      <link rel="icon" href="https://lh3.googleusercontent.com/a/ACg8ocJfPub45nyrkEzgLDZtsVbK4Yn2UPriGZwcNHIPVoVMxvcKcA44=s260-c-no">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  </head>
<body style="padding:0px">
  <dialog style="overflow-y:auto ;display:none; width:50%; max-height:60%; position:fixed; color:#b3b3b3; background: rgba(98, 98, 98, 0.5); border-radius:10px; border: 1px solid rgba(98, 98, 98, 0.3);; box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); backdrop-filter: blur(9px); margin-top:0px"><button style="color:red; background-color:#800000; hover:none" onclick="document.querySelector(`dialog`).style.display = `none`">
    X
    </button><h1>
    Info
    </h1><p id="infop"></p> <p id="infopp"></p><p id="infoppp"></p></dialog>
  <header>
  <a id='title'><div>
      <h1 style="">
      <img src="https://lh3.googleusercontent.com/a/ACg8ocJfPub45nyrkEzgLDZtsVbK4Yn2UPriGZwcNHIPVoVMxvcKcA44=s100-c-no" style="margin-top:-15px ; border-radius:30px; margin-left:-25px ;  "> FreeStreamer
      </h1></div></a>
  </header>
  <div>
  <inline id="me">
   <iframe id="frame" frameborder="0" allowfullscreen allow="encrypted-media"></iframe> 
         <div class="epdiv">
           <select id="select">
      
    </select>
           <div  >
    <div>
      
           </div>
    <div id="episs">
      Working...
    </div>
<div class="nb" style="display:none"><a id="backa"><button id="backb" style="display:none">Back</button></a> <a id="nexta"><button style="float:right; display:none" id="nextb">Next</button></a></div>  </div> 
    </div>
    </inline>
    <hr style="opacity:10%">
<div>
  <inline class='server'>
     <p>
        Servers
      </p>
      <p style="color:grey">
      one dont work try a diffrent one
    </p>
  <button onclick="embedsu()" id="embedsu">
    embed.su
  </button>
    <button onclick="multi()" id="multi">
      multi (ads)
    </button>
    <button onclick="superr()" id="super">
      super (ads)
    </button>
    <button onclick="vip()" id="vip">
      vip (ads)
    </button>
  <button onclick="vidsrc()" id="vidsrcp">
      vid src (ads)
    </button>
  <button onclick="movieclub()">
      Moviesapi (ads)
    </button>
    <button onclick="sstream()">
    7tream (1 popup)
  </button>
    <button onclick="vidfast()">
    vidfast (popup)
  </button>
    </inline>
  <button onclick='ofs()' style="height:20px; width:70px; text-align:center">
      fullscreen
    </button>
  <button onclick="if(document.querySelector('dialog').style.display == 'block'){document.querySelector('dialog').style.display = 'none'} else{document.querySelector('dialog').style.display = 'block'}">
    info
  </button>
  <button onclick="rep()">
    Random Episode
  </button>
  <input id="searchep" style="background-color:#171717; border:solid; border-radius:5px; border-width:1px; color:white; border-color:black; " placeholder="Search for an episode"><select id="selectep" style="background-color:#171717; border:solid; border-radius:5px; border-width:1px; color:white; border-color:black"><option class="numberop">Number</option>
  <option class="nameop">Name</option>
  </select>
      </div>
    </div>
</body>
<script>
          document.addEventListener("contextmenu", (e) => e.preventDefault());
      document.addEventListener("keydown", (e) => {if(e.keyCode === 123 || (e.ctrlKey && e.shiftKey && e.keyCode === 73) || (e.ctrlKey && e.shiftKey && e.keyCode === 74) || (e.ctrlKey && e.keyCode === 85)){e.preventDefault()}})
  document.querySelector("#searchep").addEventListener("change", () => {if(document.querySelector('#selectep').value == 'Name'){var nu = 0} else{var nu = 1};ser(document.querySelector("#searchep").value.toLowerCase(), nu)})
  document.addEventListener("keydown", (ev) => {if(ev.key == 'f'){ofs()} else if(ev.key == 'i'){if(document.querySelector('dialog').style.display == 'block'){document.querySelector('dialog').style.display = 'none'} else{document.querySelector('dialog').style.display = 'block'}}})
   let url = new URL(window.location.href)
   let host = 'look-at-movies.glitch.me'
  window.onload = function(){document.querySelector(".epdiv").style["max-height"] = document.querySelector("#frame").clientHeight}
  document.querySelector('#title').href = `https://${url.hostname}/look-at-movies`
function ofs() {
 var elem = document.querySelector('#frame')
  if (elem.requestFullscreen) {
    elem.requestFullscreen();
  } else if (elem.webkitRequestFullscreen) { 
    elem.webkitRequestFullscreen();
  } else if (elem.msRequestFullscreen) {
    elem.msRequestFullscreen();
  }
}
  
   async function listep(epname){
   const urll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}?api_key=d93115754010beb32ae8956c26dbc590`
try{
         const res = await fetch(urll)
  const json = await res.json()
  var info = ''
  for(var i = 1; i<=json.number_of_seasons; i++){
    const urlll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${i}?api_key=d93115754010beb32ae8956c26dbc590`
    const ress = await fetch(urlll)
  const jsonn = await ress.json()
  for(var e = 1; e<=jsonn.episodes.length; e++){
    var info = `${info},
    ["${jsonn.episodes[e-1].name.replaceAll(`"`, "")}",${e},${jsonn.season_number}]`
  }
  }
  if(!res.ok){throw Error(`code ${res.status}`)} 
  var info = info.slice(1)
  var info = `[${info}]`

 for(var o = 1; o<=JSON.parse(info).length; o++){if(JSON.parse(info)[o - 1][0].toLowerCase() == epname){return o; break} }



}
catch(er){
  console.error(er.message)
}    
  }
async function info(){
  const ids = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/external_ids?api_key=d93115754010beb32ae8956c26dbc590`
  const urll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}?api_key=d93115754010beb32ae8956c26dbc590`
  const urlll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${url.searchParams.get("s")}?api_key=d93115754010beb32ae8956c26dbc590`
  const urllll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${url.searchParams.get("s")}/episode/${url.searchParams.get("e")}?api_key=d93115754010beb32ae8956c26dbc590`
  try{
    const res = await fetch(urll)
    const json = await res.json()
    // ids
    const idres = await fetch(ids)
    const jsonids = await idres.json()
    if(!res.ok){throw new Error(`code ${res.status}`)}
        if(res.status == 404){window.alert("Invalid TMDB id"); window.location.href = `https://${url.hostname}/look-at-movies`}
        document.title = `FreeStreamer 🎬 - ${json.name}`
    document.querySelector('#infop').innerText = `
    𝗦𝗲𝗿𝗶𝗲𝘀 𝗜𝗻𝗳𝗼
    first_air_date: ${json.first_air_date}
  last_air_date: ${json.last_air_date}
  name: ${json.name}
  homepage: ${json.homepage}
  vote_count: ${json.vote_count}
  id: ${json.id}
  imdb_id: ${jsonids.imdb_id}
  tvdb_id: ${jsonids.tvdb_id}
  imdb_title_page: https://imdb.com/title/${jsonids.imdb_id}
  episodehive_page: https://episodehive.com/tv-shows/${json.name.toLowerCase().replaceAll(" ", "-").replaceAll(":", "")}
  vote_average: ${json.vote_average}
  popularity: ${json.popularity}
  number_of_episodes: ${json.number_of_episodes}
  number_of_seasons: ${json.number_of_seasons}
  status: ${json.status}
  type: ${json.type}
  poster_path: ${json.poster_path}
  backdrop_path: ${json.backdrop_path}
  overview: [${json.overview}]
  `
    
  }
  catch(er){
   document.querySelector('#infop').innerText = `    𝗦𝗲𝗿𝗶𝗲𝘀 𝗜𝗻𝗳𝗼
Could not retrive Episode info
[${er.message}]
`
    console.error(er.message)
  }
  try{const res = await fetch(urlll)
    const json = await res.json()
    if(!res.ok){throw new Error(`code ${res.status}`)}
    document.querySelector('#infopp').innerText = `
    𝗦𝗲𝗮𝘀𝗼𝗻 𝗜𝗻𝗳𝗼
    name: ${json.name}
    season_number: ${json.season_number}
    air_date: ${json.air_date}
    number_of_episodes: ${json.episodes.length}
    id: ${json.id}
    vote_average: ${json.vote_average}
    poster_path: ${json.poster_path}
    overview: [${json.overview}]
    `
    }
  catch(er){
document.querySelector('#infopp').innerText = `    𝗦𝗲𝗮𝘀𝗼𝗻 𝗜𝗻𝗳𝗼
Could not retrive Episode info
[${er.message}]
`
    console.error(er.message)  }
   try{const res = await fetch(urllll)
    const json = await res.json()
    if(!res.ok){throw new Error(`code ${res.status}`)}
    document.querySelector('#infoppp').innerText = `
    𝗘𝗽𝗶𝘀𝗼𝗱𝗲 𝗜𝗻𝗳𝗼
    episode_number: ${json.episode_number}
    runtime (minutes): ${json.runtime}
    season_number: ${json.season_number}
    name: ${json.name}
    air_date: ${json.air_date}
    vote_average: ${json.vote_average}
    vote_count: ${json.vote_count}
    episode_number (series): ${await listep(json.name.toLowerCase())}
    still_path: ${json.still_path}
    overview: [${json.overview}]
    `
    }
  catch(er){
    document.querySelector('#infoppp').innerText = `    𝗘𝗽𝗶𝘀𝗼𝗱𝗲 𝗜𝗻𝗳𝗼
Could not retrive Episode info.value
[${er.message}]
`
    console.error(er.message)
  }
}
 
async function options(){
  const urll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}?api_key=d93115754010beb32ae8956c26dbc590`
    const urlll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${url.searchParams.get("s")}?api_key=d93115754010beb32ae8956c26dbc590`
try{
   const res = await fetch(urll)
    const json = await res.json()
    if(!res.ok){throw new Error(`code ${res.status}`)}
  for(var i = 1; i<=json.number_of_seasons; i++){
    const op = document.createElement("option")
    document.querySelector('#select').appendChild(op)
if(json.seasons[0].name == 'Specials'){o = i} else{o = i - 1}
if(json.seasons[o].name.startsWith("Season")){op.innerText = `Season ${i}`} else{op.innerText = `Season ${i} - ${json.seasons[o].name}`}
op.className = `ss${i}`
  }
  document.querySelector(`.ss${url.searchParams.get('s')}`).selected = true

}
  catch(er){console.error(er.message); }
}
  options()
async function episodes(season){
const urlll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${season}?api_key=d93115754010beb32ae8956c26dbc590`
const urll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}?api_key=d93115754010beb32ae8956c26dbc590`
  const urllll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${url.searchParams.get("s")}/episode/${url.searchParams.get("e")}?api_key=d93115754010beb32ae8956c26dbc590`
try{
    const res = await fetch(urlll)
    const json = await res.json()
    const ress = await fetch(urll)
    const jsonn = await ress.json()
    const resss = await fetch(urllll)
    const jsonnn = await resss.json()
    if(!res.ok){throw new Error(`code ${res.status}`)}
  document.querySelector('#episs').innerHTML = ''
  document.querySelector(".nb").style.display = 'none'
  if(json.episodes.length == 0){; episodes(season - 1); document.querySelector("#select").selectedIndex = season - 2}
  for(var i = 1; i<=json.episodes.length; i++){
    const aa = document.createElement("a")
  const op = document.createElement("button")
    document.querySelector('#episs').appendChild(aa)
    aa.appendChild(op)
    op.innerText = `Episode ${i}: ${json.episodes[i - 1].name}`
    op.className = `episode${i}`
    aa.href = `https://${url.host}/look-at-movies/tv.html?id=${url.searchParams.get("id")}&s=${season}&e=${i}` //await listep(json.name.toLowerCase())     document.querySelector("#nextb").innerText = ``
      
  }
   if(season == url.searchParams.get('s')){document.querySelector(`.episode${url.searchParams.get('e')}`).style.color = '#77777e';
   document.querySelector(`.episode${url.searchParams.get('e')}`).style["font-weight"] = "900" 
    document.querySelector(`.episode${url.searchParams.get('e')}`).style.background = '#27272b';  } 
  document.querySelector(".nb").style.display = 'block'
      var epnum = await listep(jsonnn.name.toLowerCase())
  var nextep = JSON.parse(await ser(null, 3))[epnum]
  var backep = JSON.parse(await ser(null, 3))[epnum - 2]
  var bhelper = [0, 0]
if(url.searchParams.get("s") == 1 && url.searchParams.get("e") == 1){document.querySelector("#backb").innerText = ''; document.querySelector("#backb").style = 'display:none';document.querySelector("#nextb").style.width = '100%' ; bhelper[0] = 1}  else if(epnum == jsonn.number_of_episodes){document.querySelector("#nextb").innerText = ''; document.querySelector("#nextb").style.display = 'none';document.querySelector("#backb").style.width = '100%' ; bhelper[1] = 1}
  if(bhelper[0] == 0){ document.querySelector("#backb").innerText = `Back S${backep[2]} E${backep[1]}`; document.querySelector("#backa").href = `https://${url.host}/look-at-movies/tv.html?id=${url.searchParams.get('id')}&e=${backep[1]}&s=${backep[2]}`; document.querySelector("#backb").style.display = 'inline'} 
  if(bhelper[1] == 0){  document.querySelector("#nextb").innerText = `Next S${nextep[2]} E${nextep[1]}`; document.querySelector("#nexta").href = `https://${url.host}/look-at-movies/tv.html?id=${url.searchParams.get('id')}&e=${nextep[1]}&s=${nextep[2]}`; document.querySelector("#nextb").style.display = 'inline'}
     
}
  catch(er){
    console.error(er.message)
  }
}
  episodes(url.searchParams.get("s"))
  document.querySelector('#select').addEventListener('change', () => {episodes(document.querySelector("#select").selectedIndex + 1)})
function multi(){document.querySelector('#frame').src = `https://multiembed.mov/?video_id=${url.searchParams.get("id")}&tmdb=1&s=${url.searchParams.get("s")}&e=${url.searchParams.get("e")}`};
function superr(){document.querySelector('#frame').src = `https://www.2embed.cc/embedtv/${url.searchParams.get("id")}&s=${url.searchParams.get("s")}&e=${url.searchParams.get("e")}`};
function vip(){document.querySelector('#frame').src = `https://multiembed.mov/directstream.php?video_id=${url.searchParams.get("id")}&tmdb=1&s=${url.searchParams.get("s")}&e=${url.searchParams.get("e")}`};
function vidsrc(){document.querySelector('#frame').src = `https://vidsrc.cc/v3/embed/tv/${url.searchParams.get('id')}/${url.searchParams.get('s')}/${url.searchParams.get('e')}?autoPlay=true`}
function embedsu(){document.querySelector('#frame').src = `https://embed.su/embed/tv/${url.searchParams.get("id")}/${url.searchParams.get("s")}/${url.searchParams.get("e")}`}
function movieclub(){document.querySelector('#frame').src = `https://moviesapi.club/tv/${url.searchParams.get("id")}-${url.searchParams.get("s")}-${url.searchParams.get("e")}`}
function vidfast(){document.querySelector('#frame').src = `https://vidfast.pro/tv/${url.searchParams.get('id')}/${url.searchParams.get('s')}/${url.searchParams.get('e')}?autoPlay=true`}
function sstream(){document.querySelector('#frame').src = `https://player.videasy.net/tv/${url.searchParams.get("id")}/${url.searchParams.get("s")}/${url.searchParams.get("e")}?autoplay=1?autoplay=1&muted=1`}
embedsu()
  info()
  async function rep(){
  const urll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}?api_key=d93115754010beb32ae8956c26dbc590`
try{
         const res = await fetch(urll)
  const json = await res.json()
  var info = ''
  for(var i = 1; i<=json.number_of_seasons; i++){
    const urlll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${i}?api_key=d93115754010beb32ae8956c26dbc590`
    const ress = await fetch(urlll)
  const jsonn = await ress.json()
  const rands = Math.floor(Math.random() * jsonn.number_of_episodes) + 1;
  for(var e = 1; e<=jsonn.episodes.length; e++){
    var info = `${info},
    ["${jsonn.episodes[e-1].name.replaceAll(`"`, "")}",${e},${jsonn.season_number}]`
  }
  }
  if(!res.ok){throw Error(`code ${res.status}`)} 
  var info = info.slice(1)
  var info = `[${info}]`
    const rands = Math.floor(Math.random() * json.number_of_episodes) + 1;
window.location.href = `https://${url.host}/look-at-movies/tv.html?id=${url.searchParams.get('id')}&s=${JSON.parse(info)[rands - 1][2]}&e=${JSON.parse(info)[rands - 1][1]}`
}
    catch(er){
      window.alert(er.message)
    }}
  
 

  
  
  async function ser(search, type){
    const urll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}?api_key=d93115754010beb32ae8956c26dbc590`
try{
         const res = await fetch(urll)
  const json = await res.json()
  var info = ''
  for(var i = 1; i<=json.number_of_seasons; i++){
    const urlll = `https://api.themoviedb.org/3/tv/${url.searchParams.get("id")}/season/${i}?api_key=d93115754010beb32ae8956c26dbc590`
    const ress = await fetch(urlll)
  const jsonn = await ress.json()
  for(var e = 1; e<=jsonn.episodes.length; e++){
    var info = `${info},
    ["${jsonn.episodes[e-1].name.replaceAll(`"`, null)}",${e},${jsonn.season_number}]`
  }
  }
  if(!res.ok){throw Error(`code ${res.status}`)} 
  var info = info.slice(1)
  var info = `[${info}]`
  if(type == 1){if(JSON.parse(info)[search - 1]){window.alert(`Found it!, redirecting you to [${JSON.parse(info)[search - 1][0]} episode: ${JSON.parse(info)[search - 1][1]} season: ${JSON.parse(info)[search - 1][2]}]`); window.location.href = `https://${url.host}/look-at-movies/tv.html?id=${url.searchParams.get('id')}&s=${JSON.parse(info)[search - 1][2]}&e=${JSON.parse(info)[search - 1][1]}`} else{window.alert(`Sorry but episode number ${search} does not exist. the most recent episode is ${JSON.parse(info).length}`)}} else{for(var o = 1; o<=JSON.parse(info).length; o++){var foundit = 0 ;if(JSON.parse(info)[o - 1][0].toLowerCase() == search){window.alert(`Found it!, redirecting you to [${JSON.parse(info)[o - 1][0]} episode: ${JSON.parse(info)[o - 1][1]} season: ${JSON.parse(info)[o - 1][2]}]`); window.location.href = `https://${url.host}/look-at-movies/tv.html?id=${url.searchParams.get('id')}&s=${JSON.parse(info)[o - 1][2]}&e=${JSON.parse(info)[o - 1][1]}`; var foundit = 1 ;break}

}
  if(foundit == 0 && type != 3){window.alert("Sorry we could not find what you were looking for")}}
      if(type == 3){return info}

  }
catch(er){
  console.error(er.message)
}    
  }
  window.open = function(){
    
  }
</script>
<style>
  *{font-family:roboto}
  #me{; display:block; overflow:auto ; }
  #frame{border:solid; width:75%; background-color:grey; height:90%; border-radius:5px; border-width:1px; float:top; }
  .server{border:solid; border-width:1px; display:block; width:15%; border-radius:10px; text-align:center; margin-top:10px}
  .server button{width:50%}
  body{background-color:#1d1d1d}
  button{background-color:#404040; color:#ebff8a; border-radius:5px; border:solid; border-width:1px; border-color:black}
  button:hover{color:black; background-color:#696969}
  header{text-align:center; color:#686868; font-size:25px; padding:0px; margin:0px; display:inline}
  button:active{background-color:#a8a8a8}
  header::selection {opacity:100%}
  a{color:#686868; text-decoration:none}
  .epdiv{display:block; float:right ;border-radius: 8px; border:solid; border-width:1px; background-color:#131313; width:303px; padding:10px; overflow-y:scroll; ; overflow-x:clip; }
  .epdiv select{color:#949494; background-color:101014; border-radius:6px; padding:2px; border-color:#0e0e11; cursor:pointer; transition:100ms; width:100%; appearance:none; height:30px; background-color:#131315; position:relative; overflow:visible}
  #episs{; padding:1px; display:inline ; }
  #episs button{;width:100%;transition:500ms; ; ; font-size:16px; padding:5px ; margin-top:6px  ; color:#949494; background-color:#101014; cursor:pointer; box-shadow:rgba(0, 0, 0, 0.3) 0px 4px 30px; }
  #episs button:hover{color:#cecfd9; background-color:#121621; transition:100ms; }
  .nb button{;width:49%;transition:500ms; ; ; font-size:16px; padding:5px ; margin-top:6px  ; color:#949494; background-color:#101014; cursor:pointer; box-shadow:rgba(0, 0, 0, 0.3) 0px 4px 30px; }
  .nb button:hover{color:#cecfd9; background-color:#121621; transition:100ms; }
  
  .epdiv select:hover{background-color:#121621; transition:300ms}
</style>
